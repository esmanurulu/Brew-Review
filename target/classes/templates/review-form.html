<!DOCTYPE html>
<html lang="tr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Yorum Yap - Brew&Review</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        /* ... (CSS AynÄ± Kalacak, sadece container stili aynÄ± kalsÄ±n) ... */
        body { background-color: #3e2723; color: #fcf6f0; font-family: 'Poppins', sans-serif; padding: 20px; display: flex; justify-content: center; min-height: 100vh; box-sizing: border-box;}
        .container { background: #5d4037; padding: 40px; border-radius: 20px; width: 100%; max-width: 600px; border: 2px solid #8d6e63; box-shadow: 0 10px 30px rgba(0,0,0,0.3); margin-top: 40px; }
        /* ... */
    </style>
</head>
<body>
    <div class="container">
        <h2>âœï¸ Deneyimini PaylaÅŸ</h2>
        <p style="text-align:center;">(<span th:text="${cafe.name}">Kafe AdÄ±</span>)</p>

        <form th:action="@{/cafe/{id}/review(id=${cafe.cafeId})}" method="post">
            
            <label style="display:block; margin-top:20px; font-weight:bold;">Kimi / Neyi DeÄŸerlendireceksin?</label>
            <select name="targetId" id="targetSelect" onchange="updateType()" style="width:100%; padding:10px; border-radius:8px; border:none; font-family:inherit; background:rgba(255,255,255,0.9); margin-top:5px;">
                <option value="" data-type="cafe">ğŸ  Kafe (Genel)</option>
                <optgroup label="ğŸ‘¨â€ğŸ³ Baristalar">
                    <option th:each="emp : ${cafe.employees}" th:value="${emp.employeeId}" data-type="employee" th:text="${emp.name}"></option>
                </optgroup>
            </select>
            <input type="hidden" name="targetType" id="targetType" value="cafe">

            <label style="margin-top:20px; display:block; font-weight:bold;">PuanÄ±n (1.0 - 5.0):</label>
             <button type="submit" style="width:100%; padding:15px; background:#ffca28; border:none; border-radius:10px; font-weight:bold; cursor:pointer; margin-top:30px;">Yorumu GÃ¶nder ğŸš€</button>
        </form>
    </div>

    <script>
        function updateType() {
            const select = document.getElementById("targetSelect");
            const selectedOption = select.options[select.selectedIndex];
            const type = selectedOption.getAttribute("data-type");
            document.getElementById("targetType").value = type;
        }
    </script>
</body>
</html>